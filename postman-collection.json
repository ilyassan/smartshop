{
  "info": {
    "name": "SmartShop API",
    "description": "Complete API collection for SmartShop - E-commerce platform with authentication, orders, payments, and loyalty system",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Login (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin\",\n  \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Login as Admin user and create session"
          },
          "response": []
        },
        {
          "name": "Login (Client)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"client1\",\n  \"password\": \"client123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Login as Client user and create session"
          },
          "response": []
        },
        {
          "name": "Get Current User",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/me",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "me"]
            },
            "description": "Retrieve current authenticated user information"
          },
          "response": []
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "logout"]
            },
            "description": "Logout current user and invalidate session"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Clients",
      "item": [
        {
          "name": "Register New Client",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"newclient\",\n  \"password\": \"password123\",\n  \"email\": \"newclient@example.com\",\n  \"name\": \"New Client\",\n  \"phone\": \"1234567890\",\n  \"role\": \"CLIENT\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/clients",
              "host": ["{{baseUrl}}"],
              "path": ["clients"]
            },
            "description": "Register a new client (public endpoint)"
          },
          "response": []
        },
        {
          "name": "Get Client By ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/clients/1",
              "host": ["{{baseUrl}}"],
              "path": ["clients", "1"]
            },
            "description": "Get client profile (requires authentication, client can only view own profile)"
          },
          "response": []
        },
        {
          "name": "Get All Clients",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/clients",
              "host": ["{{baseUrl}}"],
              "path": ["clients"]
            },
            "description": "List all clients (ADMIN only)"
          },
          "response": []
        },
        {
          "name": "Update Client",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"newclient\",\n  \"email\": \"updated@example.com\",\n  \"name\": \"Updated Name\",\n  \"phone\": \"9876543210\",\n  \"role\": \"CLIENT\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/clients/1",
              "host": ["{{baseUrl}}"],
              "path": ["clients", "1"]
            },
            "description": "Update client profile (authenticated users can update own, ADMIN can update any)"
          },
          "response": []
        },
        {
          "name": "Delete Client",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/clients/1",
              "host": ["{{baseUrl}}"],
              "path": ["clients", "1"]
            },
            "description": "Delete client (ADMIN only)"
          },
          "response": []
        },
        {
          "name": "Get Client Statistics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/clients/1/statistics",
              "host": ["{{baseUrl}}"],
              "path": ["clients", "1", "statistics"]
            },
            "description": "Get client statistics (orders, spending, loyalty tier, etc.)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Products",
      "item": [
        {
          "name": "Create Product",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Laptop\",\n  \"sku\": \"LAPTOP-001\",\n  \"unitPrice\": 999.99,\n  \"stock\": 50,\n  \"description\": \"High-performance laptop\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/products",
              "host": ["{{baseUrl}}"],
              "path": ["products"]
            },
            "description": "Create new product (ADMIN only)"
          },
          "response": []
        },
        {
          "name": "Get Product By ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products/1",
              "host": ["{{baseUrl}}"],
              "path": ["products", "1"]
            },
            "description": "Get product details by ID"
          },
          "response": []
        },
        {
          "name": "Get All Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products?page=0&size=10&sortBy=id&sortDirection=ASC",
              "host": ["{{baseUrl}}"],
              "path": ["products"],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "10"
                },
                {
                  "key": "sortBy",
                  "value": "id"
                },
                {
                  "key": "sortDirection",
                  "value": "ASC"
                }
              ]
            },
            "description": "List all products with pagination and sorting"
          },
          "response": []
        },
        {
          "name": "Update Product",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Laptop Pro\",\n  \"sku\": \"LAPTOP-001\",\n  \"unitPrice\": 1299.99,\n  \"stock\": 45,\n  \"description\": \"Updated description\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/products/1",
              "host": ["{{baseUrl}}"],
              "path": ["products", "1"]
            },
            "description": "Update product (ADMIN only)"
          },
          "response": []
        },
        {
          "name": "Delete Product",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/products/1",
              "host": ["{{baseUrl}}"],
              "path": ["products", "1"]
            },
            "description": "Soft delete product (ADMIN only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Orders",
      "item": [
        {
          "name": "Create Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": 1,\n  \"items\": [\n    {\n      \"productId\": 1,\n      \"quantity\": 2\n    },\n    {\n      \"productId\": 2,\n      \"quantity\": 1\n    }\n  ],\n  \"couponCode\": \"PROMO-XXXX\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/orders",
              "host": ["{{baseUrl}}"],
              "path": ["orders"]
            },
            "description": "Create new order (ADMIN only). Admin creates orders on behalf of clients"
          },
          "response": []
        },
        {
          "name": "Get Order By ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/orders/1",
              "host": ["{{baseUrl}}"],
              "path": ["orders", "1"]
            },
            "description": "Get order details (clients can view own orders, ADMIN can view all)"
          },
          "response": []
        },
        {
          "name": "Get Orders By User",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/orders/user/1",
              "host": ["{{baseUrl}}"],
              "path": ["orders", "user", "1"]
            },
            "description": "Get all orders for a specific user (clients can view own, ADMIN can view any)"
          },
          "response": []
        },
        {
          "name": "Get All Orders",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/orders",
              "host": ["{{baseUrl}}"],
              "path": ["orders"]
            },
            "description": "List all orders (ADMIN only)"
          },
          "response": []
        },
        {
          "name": "Confirm Order",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/orders/1/confirm",
              "host": ["{{baseUrl}}"],
              "path": ["orders", "1", "confirm"]
            },
            "description": "Confirm pending order (ADMIN only). Can only confirm if payment received"
          },
          "response": []
        },
        {
          "name": "Cancel Order",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/orders/1/cancel",
              "host": ["{{baseUrl}}"],
              "path": ["orders", "1", "cancel"]
            },
            "description": "Cancel pending order (authenticated users can cancel own, ADMIN can cancel any)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Payments",
      "item": [
        {
          "name": "Create Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"orderId\": 1,\n  \"amount\": 100.00,\n  \"paymentMethod\": \"TRANSFER\",\n  \"reference\": \"REF12345\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/payments",
              "host": ["{{baseUrl}}"],
              "path": ["payments"]
            },
            "description": "Register payment for order (ADMIN only). On first payment: stock is deducted, coupon marked as used, pending orders checked"
          },
          "response": []
        },
        {
          "name": "Get Payment By ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/payments/1",
              "host": ["{{baseUrl}}"],
              "path": ["payments", "1"]
            },
            "description": "Get payment details (authenticated users can view own order payments, ADMIN can view all)"
          },
          "response": []
        },
        {
          "name": "Get Payments By Order",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/payments/order/1",
              "host": ["{{baseUrl}}"],
              "path": ["payments", "order", "1"]
            },
            "description": "Get all payments for specific order (authenticated users can view own order, ADMIN can view any)"
          },
          "response": []
        },
        {
          "name": "Get All Payments",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/payments",
              "host": ["{{baseUrl}}"],
              "path": ["payments"]
            },
            "description": "List all payments (ADMIN only)"
          },
          "response": []
        },
        {
          "name": "Update Payment",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"orderId\": 1,\n  \"amount\": 120.00,\n  \"paymentMethod\": \"CHEQUE\",\n  \"reference\": \"CHEQUE-001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/payments/1",
              "host": ["{{baseUrl}}"],
              "path": ["payments", "1"]
            },
            "description": "Update payment details (ADMIN only)"
          },
          "response": []
        },
        {
          "name": "Delete Payment",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/payments/1",
              "host": ["{{baseUrl}}"],
              "path": ["payments", "1"]
            },
            "description": "Delete payment (ADMIN only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Coupons",
      "item": [
        {
          "name": "Create Coupon",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"PROMO-SUMMER2024\",\n  \"discountPercentage\": 15.00\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/coupons",
              "host": ["{{baseUrl}}"],
              "path": ["coupons"]
            },
            "description": "Create new coupon (ADMIN only). Code format must be PROMO-XXXX"
          },
          "response": []
        },
        {
          "name": "Get Coupon By ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/coupons/1",
              "host": ["{{baseUrl}}"],
              "path": ["coupons", "1"]
            },
            "description": "Get coupon details by ID"
          },
          "response": []
        },
        {
          "name": "Get Coupon By Code",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/coupons/code/PROMO-SUMMER2024",
              "host": ["{{baseUrl}}"],
              "path": ["coupons", "code", "PROMO-SUMMER2024"]
            },
            "description": "Get coupon details by code"
          },
          "response": []
        },
        {
          "name": "Get All Coupons",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/coupons",
              "host": ["{{baseUrl}}"],
              "path": ["coupons"]
            },
            "description": "List all coupons (ADMIN only)"
          },
          "response": []
        },
        {
          "name": "Update Coupon",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"PROMO-SUMMER2024\",\n  \"discountPercentage\": 20.00\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/coupons/1",
              "host": ["{{baseUrl}}"],
              "path": ["coupons", "1"]
            },
            "description": "Update coupon (ADMIN only)"
          },
          "response": []
        },
        {
          "name": "Delete Coupon",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/coupons/1",
              "host": ["{{baseUrl}}"],
              "path": ["coupons", "1"]
            },
            "description": "Delete coupon (ADMIN only)"
          },
          "response": []
        },
        {
          "name": "Use Coupon",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/coupons/use/PROMO-SUMMER2024",
              "host": ["{{baseUrl}}"],
              "path": ["coupons", "use", "PROMO-SUMMER2024"]
            },
            "description": "Mark coupon as used and delete it (ADMIN only). Called automatically on first payment"
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080",
      "type": "string"
    }
  ]
}
